<h1>New Device</h1>
<style>
    #content
    {
        flex-direction: column;
    }
    #commandGroup.dynamic .btn-primary {
        display: none;
    }
    #commandGroup.static .btn-primary {
        display: inline-block;
    }
</style>
<form id="create" action="/api/@domojs/devices/new" method="post" enctype="json" class="form-horizontal">
    <div class="form-group">
        <label for="name" class="control-label col-sm-2">Name</label>
        <div class="col-sm-10">
            <input id="name" type="text" class="form-control" name="name" data-bind="{value:device.name}" />
        </div>
    </div>
    <div class="form-group">
        <label for="category" class="control-label col-sm-2">Category</label>
        <div class="col-sm-10">
            <input id="category" type="text" class="form-control" name="category" data-bind="{value:device.category}" />
        </div>
    </div>
    <div class="form-group">
        <label for="type" class="control-label col-sm-2">Type</label>
        <div class="col-sm-10">
            <select id="type" class="form-control" name="type" data-bind="{value:device.type, options:{in:deviceTypes, text:name, value:name}}">
                <option value="">Select a type</option>
            </select>
        </div>
    </div>
    <div id="commandGroup" data-bind="{class:{dynamic:device.type.mode=='dynamic', static:device.type.mode=='static'}">
        <h3>Commands
            <a href="#" class="btn btn-primary" data-bind="{show:device.type.mode=='static'}">
                <span class="fa fa-plus"></span>
            </a>
        </h3>
        <ul id="commands" class="list-unstyled container-fluid" data-bind="{part:{name:'deviceType', template:device.type.view, controller:device.type.controller}}">
        </ul>
    </div>
    <div class="form-group horizontal-form">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn disabled btn-primary" data-bind="{click:send}">Add</button>
            <a href="#/devices" class="btn btn-default">Cancel</a>
        </div>
    </div>
</form>
